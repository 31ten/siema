"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};!function(e){function t(e){var t=this,r={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,threshold:20,loop:!1};this.config=_extends(r,e),this.selector=document.querySelector(this.config.selector),this.selectorWidth=this.selector.getBoundingClientRect().width,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.startIndex,this.init(),window.addEventListener("resize",function(){t.resize(),t.slideToCurrent()}),this.config.draggable&&(this.pointerDown=!1,this.drag={start:0,end:0},this.selector.addEventListener("touchstart",function(e){t.pointerDown=!0,t.drag.start=e.pageX}),this.selector.addEventListener("touchend",function(e){t.pointerDown=!1,t.drag.end=e.pageX,t.sliderFrame.style.transition="transform "+t.config.duration+"ms "+t.config.easing,t.updateAfterDrag()}),this.selector.addEventListener("touchmove",function(e){t.sliderFrame.style.transition="transform 0ms "+t.config.easing,t.drag.end=e.pageX,t.sliderFrame.style.transform="translate3d("+(t.currentSlide*(t.selectorWidth/t.config.perPage)+(t.drag.start-t.drag.end))*-1+"px, 0, 0)"}),this.selector.addEventListener("mousedown",function(e){e.preventDefault(),t.pointerDown=!0,t.drag.start=e.pageX}),this.selector.addEventListener("mouseup",function(e){e.preventDefault(),t.pointerDown&&(t.pointerDown=!1,t.drag.end=e.pageX,t.sliderFrame.style.transition="transform "+t.config.duration+"ms "+t.config.easing,t.sliderFrame.style.cursor="-webkit-grab",t.updateAfterDrag())}),this.selector.addEventListener("mouseleave",function(e){e.preventDefault(),t.pointerDown&&(t.drag.end=e.pageX,t.sliderFrame.style.transition="transform "+t.config.duration+"ms "+t.config.easing,t.sliderFrame.style.cursor="-webkit-grab",t.updateAfterDrag()),t.pointerDown=!1}),this.selector.addEventListener("mousemove",function(e){e.preventDefault(),t.pointerDown&&(t.sliderFrame.style.transition="transform 0ms "+t.config.easing,t.sliderFrame.style.cursor="-webkit-grabbing",t.drag.end=e.pageX,t.sliderFrame.style.transform="translate3d("+(t.currentSlide*(t.selectorWidth/t.config.perPage)+(t.drag.start-t.drag.end))*-1+"px, 0, 0)")}))}var r=this;t.prototype.init=function(){if(null===this.selector)throw new Error("Something wrong with your sleector ðŸ˜­");this.selector.style.overflow="hidden",this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=this.selectorWidth/this.config.perPage*this.innerElements.length+"px",this.sliderFrame.style.transition="transform "+this.config.duration+"ms "+this.config.easing,this.config.draggable&&(this.sliderFrame.style.cursor="-webkit-grab");for(var e=document.createDocumentFragment(),t=0;t<this.innerElements.length;t++)this.innerElements[t].style.float="left",this.innerElements[t].style.width=100/this.innerElements.length+"%",e.appendChild(this.innerElements[t]);this.sliderFrame.appendChild(e),this.selector.appendChild(this.sliderFrame),this.slideToCurrent()},t.prototype.prev=function(){0===this.currentSlide&&this.config.loop?this.currentSlide=this.innerElements.length-this.config.perPage:this.currentSlide=Math.max(this.currentSlide-1,0),this.slideToCurrent()},t.prototype.next=function(){this.currentSlide===this.innerElements.length-this.config.perPage&&this.config.loop?this.currentSlide=0:this.currentSlide=Math.min(this.currentSlide+1,this.innerElements.length-this.config.perPage),this.slideToCurrent()},t.prototype.goTo=function(e){r.currentSlide=Math.min(Math.max(e,0),r.innerElements.length-1),r.slideToCurrent()},t.prototype.slideToCurrent=function(){this.sliderFrame.style.transform="translate3d(-"+this.currentSlide*(this.selectorWidth/this.config.perPage)+"px, 0, 0)"},t.prototype.updateAfterDrag=function(){var e=this.drag.end-this.drag.start;e>0&&Math.abs(e)>this.config.threshold?this.prev():e<0&&Math.abs(e)>this.config.threshold?this.next():this.slideToCurrent()},t.prototype.resize=function(){this.selectorWidth=this.selector.getBoundingClientRect().width,this.sliderFrame.style.width=this.selectorWidth/this.config.perPage*this.innerElements.length+"px"},"undefined"!=typeof module&&module.exports?module.exports=t:e.Siema=t}(window);