"use strict";var _extends=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};!function(t){function i(t){var i=this,e={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,threshold:20,loop:!1};this.config=_extends(e,t),this.selector=document.querySelector(this.config.selector),this.selectorWidth=this.selector.getBoundingClientRect().width,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.startIndex,this.init(),window.addEventListener("resize",function(){i.resize(),i.slideToCurrent()}),this.config.draggable&&(this.pointerDown=!1,this.drag={start:0,end:0},this.selector.addEventListener("touchstart",this.touchstartHandler.bind(this)),this.selector.addEventListener("touchend",this.touchendHandler.bind(this)),this.selector.addEventListener("touchmove",this.touchmoveHandler.bind(this),{passive:!0}),this.selector.addEventListener("mousedown",this.mousedownHandler.bind(this)),this.selector.addEventListener("mouseup",this.mouseupHandler.bind(this)),this.selector.addEventListener("mouseleave",this.mouseleaveHandler.bind(this)),this.selector.addEventListener("mousemove",this.mousemoveHandler.bind(this)))}var e=this;i.prototype.init=function(){if(null===this.selector)throw new Error("Something wrong with your sleector ðŸ˜­");this.selector.style.overflow="hidden",this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=this.selectorWidth/this.config.perPage*this.innerElements.length+"px",this.sliderFrame.style.webkitTransition="-webkit-transform "+this.config.duration+"ms "+this.config.easing+", transform "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="-webkit-transform "+this.config.duration+"ms "+this.config.easing+", transform "+this.config.duration+"ms "+this.config.easing,this.config.draggable&&(this.sliderFrame.style.cursor="-webkit-grab");for(var t=document.createDocumentFragment(),i=0;i<this.innerElements.length;i++)this.innerElements[i].style.float="left",this.innerElements[i].style.width=100/this.innerElements.length+"%",t.appendChild(this.innerElements[i]);this.sliderFrame.appendChild(t),this.selector.appendChild(this.sliderFrame),this.slideToCurrent()},i.prototype.prev=function(){0===this.currentSlide&&this.config.loop?this.currentSlide=this.innerElements.length-this.config.perPage:this.currentSlide=Math.max(this.currentSlide-1,0),this.slideToCurrent()},i.prototype.next=function(){this.currentSlide===this.innerElements.length-this.config.perPage&&this.config.loop?this.currentSlide=0:this.currentSlide=Math.min(this.currentSlide+1,this.innerElements.length-this.config.perPage),this.slideToCurrent()},i.prototype.goTo=function(t){e.currentSlide=Math.min(Math.max(t,0),e.innerElements.length-1),e.slideToCurrent()},i.prototype.slideToCurrent=function(){this.sliderFrame.style[s]="translate3d(-"+this.currentSlide*(this.selectorWidth/this.config.perPage)+"px, 0, 0)"},i.prototype.updateAfterDrag=function(){var t=this.drag.end-this.drag.start;t>0&&Math.abs(t)>this.config.threshold?this.prev():t<0&&Math.abs(t)>this.config.threshold&&this.next(),this.slideToCurrent()},i.prototype.resize=function(){this.selectorWidth=this.selector.getBoundingClientRect().width,this.sliderFrame.style.width=this.selectorWidth/this.config.perPage*this.innerElements.length+"px"},i.prototype.clearDrag=function(){this.drag={start:0,end:0}},i.prototype.touchstartHandler=function(t){t.stopPropagation(),this.pointerDown=!0,this.drag.start=t.touches[0].pageX},i.prototype.touchendHandler=function(t){t.stopPropagation(),this.pointerDown=!1,this.sliderFrame.style.webkitTransition="-webkit-transform "+this.config.duration+"ms "+this.config.easing+", transform "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="-webkit-transform "+this.config.duration+"ms "+this.config.easing+", transform "+this.config.duration+"ms "+this.config.easing,this.drag.end&&this.updateAfterDrag(),this.clearDrag()},i.prototype.touchmoveHandler=function(t){t.stopPropagation(),this.pointerDown&&(this.drag.end=t.touches[0].pageX,this.sliderFrame.style.webkitTransition="-webkit-transform 0ms "+this.config.easing+", transform 0ms "+this.config.easing,this.sliderFrame.style.transition="-webkit-transform 0ms "+this.config.easing+", transform 0ms "+this.config.easing,this.sliderFrame.style[s]="translate3d("+(this.currentSlide*(this.selectorWidth/this.config.perPage)+(this.drag.start-this.drag.end))*-1+"px, 0, 0)")},i.prototype.mousedownHandler=function(t){t.stopPropagation(),this.pointerDown=!0,this.drag.start=t.pageX},i.prototype.mouseupHandler=function(t){t.stopPropagation(),this.pointerDown=!1,this.sliderFrame.style.cursor="-webkit-grab",this.sliderFrame.style.webkitTransition="-webkit-transform "+this.config.duration+"ms "+this.config.easing+", transform "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="-webkit-transform "+this.config.duration+"ms "+this.config.easing+", transform "+this.config.duration+"ms "+this.config.easing,this.drag.end&&this.updateAfterDrag(),this.clearDrag()},i.prototype.mousemoveHandler=function(t){t.preventDefault(),this.pointerDown&&(this.drag.end=t.pageX,this.sliderFrame.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="-webkit-transform 0ms "+this.config.easing+", transform 0ms "+this.config.easing,this.sliderFrame.style.transition="-webkit-transform 0ms "+this.config.easing+", transform 0ms "+this.config.easing,this.sliderFrame.style[s]="translate3d("+(this.currentSlide*(this.selectorWidth/this.config.perPage)+(this.drag.start-this.drag.end))*-1+"px, 0, 0)")},i.prototype.mouseleaveHandler=function(t){this.pointerDown&&(this.pointerDown=!1,this.drag.end=t.pageX,this.sliderFrame.style.webkitTransition="-webkit-transform "+this.config.duration+"ms "+this.config.easing+", transform "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="-webkit-transform "+this.config.duration+"ms "+this.config.easing+", transform "+this.config.duration+"ms "+this.config.easing,this.updateAfterDrag(),this.clearDrag())};var s=function(){var t=document.documentElement.style;return"string"==typeof t.transform?"transform":"WebkitTransform"}();"undefined"!=typeof module&&module.exports?module.exports=i:t.Siema=i}(window);